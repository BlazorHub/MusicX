@page "/account/logout"
@using MusicX.Web.Shared.Account
@inject IApiClient ApiClient
@inject IUriHelper UriHelper

<h1>Logging out...</h1>

@functions {
    protected override async Task OnInitAsync()
    {
        await JsInterop.DeleteToken();
        this.State.Username = null;
        this.State.UserToken = null;
        this.StateHasChanged();
        this.UriHelper.NavigateTo("/");
    }
}
